$maxGrid : 3;

.grid {
    display: grid;

    // AutoFills columns, max out at 3
    // use #{$variable} syntax in calc function to use variable
    grid-template-columns: repeat(auto-fill, minmax(Max(100px, calc(100% / 3)), 1fr));
    // grid-template-columns: minmax(Max(500px, calc(100% / 3)), 1fr);

    // grid-template-rows: auto;

    gap: .5em;
}

@media screen and (max-width: 500px) {
    .grid {
        grid-template-columns: repeat(auto-fill, minmax(Max(300px, calc(100% / #{$maxGrid})), 1fr));
    }
}